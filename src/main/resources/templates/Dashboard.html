<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

   <link rel="stylesheet" href="/css/dashboard.css">
   <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<script type="text/javascript" th:src = "@{/js/dashboard.js}"></script>
</head>

<body>
   <div class="home">
	
	 <a href="/getHome"><button class="btn">Home</button></a>
	</div>
     <div class="home1">
        <img src="https://www.ldtech.in/images/logo.png" alt="Logo" class="logo" />
	</div>
    <div class="container">
       <!--  <img src="https://www.ldtech.in/images/logo.png" alt="Logo" class="logo" />-->
        
        
        <h2>Dashboard Admin</h2>
        <form class="form-container">
            <div class="search-field">
                <label>Emp ID</label>
                <div class="input-container">
                    <input type="text" name="empId" id="employeeId" placeholder="Search by Emp ID " />
                    <span class="search-icon" id="search-icon1"></span>
                </div>
            </div>

            <div class="search-field">
                <label>Dept</label>
                <div class="input-container">
                    <input type="text" name="dept" placeholder="Search by Dept" />
                    <span class="search-icon" id="search-icon2"></span>
                </div>
            </div>

            <div class="search-field">
                <label>Emp Name</label>
                <div class="input-container">
                    <input type="text" name="empName" placeholder="Search by Emp Name" />
                    <span class="search-icon" id="search-icon3"></span>
                 </div>
            </div>

            <div class="search-field">
                <label>Manager</label>
                <div class="input-container">
                    <input type="text" name="manager" placeholder="Search by Manager" />
                    <span class="search-icon" id="search-icon4"></span>
                </div>
            </div>

            <div class="search-field">
                <label>Client</label>
                <div class="input-container">
                    <input type="text" name="client" placeholder="Search by Client" />
                    <span class="search-icon" id="search-icon5"></span>
                </div>
            </div>

            <div class="search-field">
                <label>Project</label>
                <div class="input-container">
                    <select id="dropdown"
                    name="project">
                       
                      <!--    <option value="project1">Project 1</option>
                        <option value="project2">Project 2</option> -->
                    </select>
                </div>
            </div>

            <div class="search-field">
                <label>Status</label>
                <div class="input-container">
                    <select id="dp" name="status">
                        <option value="">Select Status</option>
                        <option value="All">All User</option>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
            </div>

            <div class="search-field">
                <label>Allocation</label>
                <div class="input-container">
                    <select name="allocation">
                        <option value="">Select Allocation</option>
                        <option value="Billable">Billable</option>
                        <option value="Non-Billable">Non-Billable</option>
                    </select>
                </div>
            </div>
        </form>
        <div class="result-box">
            <div class="search-result">
                <table id="data-table" class="table table-bordered">
                    <thead>
                        <tr>
                            <th>sl</th>
                            <th>Emp Name</th>
                            <th>Emp Id</th>
                            <th>Project</th>
                            <th>Project Allocation</th>
                            <th>Client</th>
                            <th>Manager</th>
                            <th>Department</th>
                            <th>Status</th>
                            <th>Allocation Start Date</th>
                            <th>Allocation End Date</th>
                            <!-- Add more columns as needed -->
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>      
            </div>
        </div>       
    </div>   
    
    	<script>
        // Fetch dropdown options from the API
        fetch('/getDropdown') 
            .then(response => response.json())
            .then(data => {
                // Get the select element
                const dropdown = document.getElementById('dropdown');

        // Add a static "Select Project" option
            const selectProjectOption = document.createElement('option');
            selectProjectOption.value = ''; // Set the value accordingly
            selectProjectOption.text = 'Select Project';
            dropdown.appendChild(selectProjectOption);

                // Iterate through the data and create option elements
                data.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.projectName;
                    console.log(optionElement.value);
                    optionElement.text = option.projectName;
                    dropdown.appendChild(optionElement);
                });
            })
            .catch(error => console.error('Error fetching dropdown options:', error));
   </script>   
</body>
</html>