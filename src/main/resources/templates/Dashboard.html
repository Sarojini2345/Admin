<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<link rel="stylesheet" href="/css/dashboard.css">
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script type="text/javascript" th:src="@{/js/dashboard.js}"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" /></head>

<body>
		<!-- Sidebar Container -->
	<div class="sidebar-container" id="sidebar">
		<div class="toggle-icon" onclick="toggleSidebar()">
			<i class="fas fa-bars"></i>
		</div>
		<ul class="menu-container" id="maincontent">
			<li class="menu-item active "><a href="/dashboard" class="menu-link">
					<i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
			<li class="menu-item"><a href="/projectMaster" class="menu-link">
					<i class="fas fa-project-diagram"></i><span>Project Master</span></a></li>
			<li class="menu-item"><a href="/hello" class="menu-link">
					<i class="fas fa-user"></i><span>Employee Allocation</span></a></li>
			<li class="menu-item"><a href="/benchEmp" class="menu-link">
					<i class="fas fa-user-clock"></i><span>Bench Employees</span></a></li>
			<li class="menu-item "><a href="/history" class="menu-link">
					<i class="fas fa-history"></i><span>History</span></a></li>
			<li class="menu-item"><a href="/Timesheet" class="menu-link">
					<i class="fas fa-clock"></i><span>Timesheet</span></a></li>
		</ul>
	</div>
	<div class="header">
		<img src="https://ldtech.in/wp-content/uploads/2024/01/logo.png" alt="Logo" class="headerlogo">
		<h3 id="header-text">Dashboard</h3>
		<a href="/getHome" class="btn"><i class="fa fa-home"></i></a>
	</div>
	<div class="container">
		<!--  <img src="https://www.ldtech.in/images/logo.png" alt="Logo" class="logo" />-->

		<h2>Dashboard Admin</h2>
		<form class="form-container">
			<div class="search-field">
				<label>Emp ID</label>
				<div class="input-container">
					<input type="text" name="empId" id="employeeId" placeholder="Search by Emp ID " />
					<span class="search-icon" id="search-icon1"></span>
				</div>
			</div>

			<div class="search-field">
				<label>Dept</label>
				<div class="input-container">
					<input type="text" id="dept" name="dept" placeholder="Search by Dept" />
					<span class="search-icon" id="search-icon2"></span>
				</div>
			</div>

			<div class="search-field">
				<label>Emp Name</label>
				<div class="input-container">
					<input type="text" id="empName" name="empName" placeholder="Search by Emp Name" />
					<span class="search-icon" id="search-icon3"></span>
				</div>
			</div>

			<div class="search-field">
				<label>Manager</label>
				<div class="input-container">
					<input type="text" id="manager" name="manager" placeholder="Search by Manager" />
					<span class="search-icon" id="search-icon4"></span>
				</div>
			</div>

			<div class="search-field">
				<label>Client</label>
				<div class="input-container">
					<input type="text" id="client" name="client" placeholder="Search by Client" />
					<span class="search-icon" id="search-icon5"></span>
				</div>
			</div>

			<div class="search-field">
				<label>Project</label>
				<div class="input-container">
					<select id="dropdown" name="project">
					</select>
				</div>
			</div>

			<div class="search-field">
				<label>Status</label>
				<div class="input-container">
					<select id="dp" name="status">
						<option value="" selected disabled>Select Status</option>
						<option value="All">All User</option>
						<option value="active">Active</option>
						<option value="inactive">Inactive</option>
					</select>
				</div>
			</div>

			<div class="search-field">
				<label>Allocation</label>
				<div class="input-container">
					<select id="projectType" name="allocation">
						<option value="" selected disabled>Select Allocation</option>
						<option value="Billable">Billable</option>
						<option value="Non-Billable">Non-Billable</option>
					</select>
				</div>
			</div>
		</form>
		<div class="result-box" style="justify-content: center">
			<div class="search-result">
				<div class="container1 border" style="margin-left: 172px;">
					<table id="data-table" class="table table-bordered" style="margin-right: 50px">
						<thead>
							<tr>
								<th id="sl">sl</th>
								<th id="empName">Emp Name</th>
								<th id="empId">Emp Id</th>
								<th id="project">Project</th>
								<th id="projectAllocation">Project Allocation</th>
								<th id="client">Client</th>
								<th id="manager">Manager</th>
								<th id="department">Department</th>
								<th id="status">Status</th>
								<th id="allocationStartDate">Allocation Start Date</th>
								<th id="allocationEndDate">Allocation End Date</th>
								<th id="action">Action</th>
								<!-- Add more columns as needed -->
							</tr>
						</thead>
						<tbody></tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Fetch dropdown options from the API
		fetch('/getDropdown')
			.then(response => response.json())
			.then(data => {
				// Get the select element
				const dropdown = document.getElementById('dropdown');

				// Add a static "Select Project" option
				const selectProjectOption = document.createElement('option');
				
				selectProjectOption.value = ''; // Set the value accordingly
				selectProjectOption.text = 'Select Project';
				dropdown.appendChild(selectProjectOption);

				// Iterate through the data and create option elements
				data.forEach(option => {
					const optionElement = document.createElement('option');
					optionElement.value = option.projectName;
					console.log(optionElement.value);
					optionElement.text = option.projectName;
					
					if (option.status === 'inactive') {
		                optionElement.disabled = true;
					}
					
					dropdown.appendChild(optionElement);
				});
			})
			.catch(error => console.error('Error fetching dropdown options:', error));
	</script>
</body>
</html>